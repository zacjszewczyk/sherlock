# Output directories for each matrix (align these with your existing generator.yml)
output_directories:
  default: techniques
  enterprise: techniques/attack/enterprise
  ics: techniques/attack/ics
  mobile: techniques/attack/mobile

# Which matrices to consider when resolving technique metadata via attack_retriever
matrices:
  - enterprise # version 2.2
  # - ics # version 1.4
  # - mobile # version 1.4

# Optional: restrict to these technique IDs only (e.g., T1078, T1059, D3-NTA). Leave empty to process all found.
techniques:
  # - T0800
  # - T1078
  # - T1671
  
# Primary model (Gemini) used for refinement
model: gemini-2.5-pro

# Guidance appended to the prompt that the model MUST apply during refinement.
refine_guidance: |
  * Improve evidence descriptions to be measurable and testable; avoid vague phrasing. This is the concrete information that supports or refutes an indicator.
  * Ensure data sources list precise artifacts (e.g., "Windows Event ID 4624", "Zeek conn.log", "Zeek dns.log"). Focus on Windows and Zeek logging where possible, but you may also account for other normal logging sources.
  * When developing actions, include at least three concrete detection methods that include, at a minimum, one symbolic logic (such as an IOC match), one statistical method (such as a percentile threshold), and machine learning application (such as classification or time series analysis) as distinct list elements in the JSON structure.
  * Ensure every action is executable by a SOC analyst using common tools (SIEM/SQL/Zeek), stated as logical, stepwise imperatives.
  * Add NAIs that reflect where the data actually resides for this technique/tactic across the selected matrix (enterprise/ICS/mobile), with a typical enterprise network in mind.
  * Do not remove required fields; preserve the top-level array-of-objects JSON schema.
  * Generally, do not remove information from the existing plan, just add to and improve it.
  * Do not use any styling such as bold or italics in your plan.

# Skip rules (optional)
skip_if_updated_after: null   # e.g., "2025-09-01" or null to disable
# skip_if_version_gt: 1.4      # e.g., "1.2" or null to disable
skip_if_version_gt: 2.2      # e.g., "1.2" or null to disable

# File safety
backup: true

# # Force Gemini only:
# llm_provider: gemini
# llm_model: gemini-2.5-pro

# Force AskSage only:
llm_provider: asksage
llm_model: google-gemini-2.5-pro

# # Auto (legacy behavior):
# llm_provider: auto
# llm_model: null

# LLM call behavior
max_retries: 3
retry_delay: 1

# Parallelism:
# - Set to 0, 1, or leave null to run single-core.
# - Set to 2 or more to enable multi-core; will cap at machine CPU count.
num_cores: 8