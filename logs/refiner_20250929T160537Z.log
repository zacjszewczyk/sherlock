2025-09-29 16:05:37 INFO     __main__ :: Run initialized at: 20250929T160537Z | Logging to: logs/refiner_20250929T160537Z.log
2025-09-29 16:05:37 INFO     __main__ :: Loading Gemini API key
2025-09-29 16:05:37 INFO     __main__ :: Loading Sage API key
2025-09-29 16:05:37 INFO     __main__ :: Loading configuration
2025-09-29 16:05:37 INFO     __main__ :: Successfully loaded configuration from 'config/refine.yml'.
2025-09-29 16:05:37 INFO     __main__ :: Building technique dictionary
2025-09-29 16:05:37 INFO     src.attack_retriever :: Processing matrix: mobile
2025-09-29 16:05:37 INFO     src.attack_retriever :: Using cached version of 'mobile' matrix from 'mobile-attack.json'.
2025-09-29 16:05:37 INFO     src.attack_retriever :: Built dictionary with 121 unique techniques across 1 matrices.
2025-09-29 16:05:37 INFO     __main__ :: Will attempt to refine plans for up to 121 techniques (existing files only).
2025-09-29 16:05:37 INFO     __main__ :: Running in single-core mode.
2025-09-29 16:05:38 INFO     __main__ :: [T1603] START: about to process with endpoint=gemini model=gemini-2.5-flash
2025-09-29 16:05:38 INFO     __main__ :: [LLM] Attempt 1/3: using endpoint=gemini model=gemini-2.5-flash
2025-09-29 16:05:38 INFO     google_genai.models :: AFC is enabled with max remote calls: 10.
2025-09-29 16:05:38 INFO     httpx :: HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 429 Too Many Requests"
2025-09-29 16:05:38 ERROR    __main__ :: [LLM] Gemini rate/quota issue: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 250\nPlease retry in 21.811340126s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '250'}]}, {'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '21s'}]}}. Falling back to AskSage.
2025-09-29 16:05:38 INFO     __main__ :: [LLM] Using endpoint=AskSage model=google-gemini-2.5-pro
2025-09-29 16:05:38 INFO     __main__ :: [LLM] AskSage success with model=google-gemini-2.5-pro
2025-09-29 16:05:38 INFO     __main__ :: [T1603] INFO: fell back to endpoint=asksage model=google-gemini-2.5-pro
2025-09-29 16:05:38 ERROR    __main__ :: [T1603] FAIL: could not extract JSON from model output.
2025-09-29 16:05:38 INFO     __main__ :: T1603: fail (no_json)
2025-09-29 16:05:38 INFO     __main__ :: [T1638] START: about to process with endpoint=gemini model=gemini-2.5-flash
2025-09-29 16:05:38 INFO     __main__ :: [LLM] Attempt 1/3: using endpoint=gemini model=gemini-2.5-flash
2025-09-29 16:05:38 INFO     google_genai.models :: AFC is enabled with max remote calls: 10.
2025-09-29 16:05:38 INFO     httpx :: HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 429 Too Many Requests"
2025-09-29 16:05:38 ERROR    __main__ :: [LLM] Gemini rate/quota issue: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 250\nPlease retry in 21.110306929s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '250'}]}, {'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '21s'}]}}. Falling back to AskSage.
2025-09-29 16:05:38 INFO     __main__ :: [LLM] Using endpoint=AskSage model=google-gemini-2.5-pro
2025-09-29 16:05:39 INFO     __main__ :: [LLM] AskSage success with model=google-gemini-2.5-pro
2025-09-29 16:05:39 INFO     __main__ :: [T1638] INFO: fell back to endpoint=asksage model=google-gemini-2.5-pro
2025-09-29 16:05:39 ERROR    __main__ :: [T1638] FAIL: could not extract JSON from model output.
2025-09-29 16:05:39 INFO     __main__ :: T1638: fail (no_json)
2025-09-29 16:05:39 INFO     __main__ :: [T1626] START: about to process with endpoint=gemini model=gemini-2.5-flash
2025-09-29 16:05:39 INFO     __main__ :: [LLM] Attempt 1/3: using endpoint=gemini model=gemini-2.5-flash
2025-09-29 16:05:39 INFO     google_genai.models :: AFC is enabled with max remote calls: 10.
2025-09-29 16:05:39 INFO     httpx :: HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 429 Too Many Requests"
2025-09-29 16:05:39 ERROR    __main__ :: [LLM] Gemini rate/quota issue: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 250\nPlease retry in 20.387973802s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '250'}]}, {'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '20s'}]}}. Falling back to AskSage.
2025-09-29 16:05:39 INFO     __main__ :: [LLM] Using endpoint=AskSage model=google-gemini-2.5-pro
2025-09-29 16:05:39 INFO     __main__ :: [LLM] AskSage success with model=google-gemini-2.5-pro
2025-09-29 16:05:39 INFO     __main__ :: [T1626] INFO: fell back to endpoint=asksage model=google-gemini-2.5-pro
2025-09-29 16:05:39 ERROR    __main__ :: [T1626] FAIL: could not extract JSON from model output.
2025-09-29 16:05:39 INFO     __main__ :: T1626: fail (no_json)
2025-09-29 16:05:40 INFO     __main__ :: [T1663] START: about to process with endpoint=gemini model=gemini-2.5-flash
2025-09-29 16:05:40 INFO     __main__ :: [LLM] Attempt 1/3: using endpoint=gemini model=gemini-2.5-flash
2025-09-29 16:05:40 INFO     google_genai.models :: AFC is enabled with max remote calls: 10.
2025-09-29 16:05:40 INFO     httpx :: HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 429 Too Many Requests"
2025-09-29 16:05:40 ERROR    __main__ :: [LLM] Gemini rate/quota issue: 429 RESOURCE_EXHAUSTED. {'error': {'code': 429, 'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 250\nPlease retry in 19.712609509s.', 'status': 'RESOURCE_EXHAUSTED', 'details': [{'@type': 'type.googleapis.com/google.rpc.QuotaFailure', 'violations': [{'quotaMetric': 'generativelanguage.googleapis.com/generate_content_free_tier_requests', 'quotaId': 'GenerateRequestsPerDayPerProjectPerModel-FreeTier', 'quotaDimensions': {'location': 'global', 'model': 'gemini-2.5-flash'}, 'quotaValue': '250'}]}, {'@type': 'type.googleapis.com/google.rpc.Help', 'links': [{'description': 'Learn more about Gemini API quotas', 'url': 'https://ai.google.dev/gemini-api/docs/rate-limits'}]}, {'@type': 'type.googleapis.com/google.rpc.RetryInfo', 'retryDelay': '19s'}]}}. Falling back to AskSage.
2025-09-29 16:05:40 INFO     __main__ :: [LLM] Using endpoint=AskSage model=google-gemini-2.5-pro
